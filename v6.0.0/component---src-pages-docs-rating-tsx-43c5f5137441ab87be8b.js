(self.webpackChunkreact_components_docs=self.webpackChunkreact_components_docs||[]).push([[4928],{17105:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(27378),l=t(45141),o=t(30808),a=t(508),s=t.n(a),i=["colors","index","value","customSVG","step"],u=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),c=function(e){var n=e.colors,t=e.index,l=e.value,a=e.customSVG,s=e.step,c=(0,o.Z)(e,i),m=(0,r.useState)(l),p=m[0],d=m[1];(0,r.useEffect)((function(){l>=t&&d(100*(l-t))}),[l]);var f=r.useCallback((function(e){if(s%1==0)return"url(#full_grad)";switch(s){case.5:return e||"url(#half_grad)";default:return"url(#dynamic_grad"+t+")"}}),[s,t]);return r.createElement("svg",Object.assign({},c,{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"}),c.name&&r.createElement("title",null,c.name),r.createElement("defs",null,r.createElement("linearGradient",{id:"dynamic_grad"+t},r.createElement("stop",{offset:p-1+"%",style:{stopColor:n[1]}}),r.createElement("stop",{offset:"1%",style:{stopColor:n[0]}}),r.createElement("stop",{offset:100-p+"%",style:{stopColor:n[0]}})),r.createElement("linearGradient",{id:"full_grad"},r.createElement("stop",{offset:"100%",stopColor:n[1]})),r.createElement("linearGradient",{id:"half_grad"},r.createElement("stop",{offset:"50%",stopColor:n[1]}),r.createElement("stop",{offset:"50%",stopColor:n[0]})),r.createElement("linearGradient",{id:"no_grad"},r.createElement("stop",{offset:"100%",stopColor:n[0]}))),r.cloneElement(a||u,{preserveAspectRatio:"xMinYMin meet",fill:l&&0!==l?l>t&&l<=t+.5?f():l>=t+1?"url(#full_grad)":l>t&&l<t+1?f("url(#full_grad)"):"url(#no_grad)":"url(#no_grad)",key:t}))},m=["dimension","colors","customSVG","wrapperProps"],p=["#A9A9A9","#FFC500"],d=["#dddddd","#bfbfbf"],f=r.forwardRef((function(e,n){var t=e.dimension,l=void 0===t?30:t,a=e.colors,i=e.customSVG,u=e.wrapperProps,f=(0,o.Z)(e,m),g=(0,r.useState)(Number(f.value)),v=g[0],b=g[1],y=(0,r.useState)(0),h=(y[0],y[1]),E=(0,r.useState)(Number(f.max)||5),C=E[0],x=E[1];(0,r.useEffect)((function(){b(Number(f.value))}),[f.value]),(0,r.useEffect)((function(){f.max&&x(Number(f.max))}),[f.max]),(0,r.useEffect)((function(){h(Number(f.min))}),[f.min]);var k=function(){if(a&&a.length)switch(a.length){case 2:return a;default:return p}return f.disabled?d:p},w=function(e){!f.readOnly&&b(S(e))},S=function(e){var n=M(e);return C*Number(parseFloat(String(n)).toFixed(2))},M=function(e){var n=e.clientX,t=e.target.getBoundingClientRect(),r=n-t.left;return r<0?0:r/t.width};return r.createElement("div",Object.assign({},u,{className:s()("rc","rating",null==u?void 0:u.className)}),r.createElement("div",{className:"rating-icons"},Array.apply(null,{length:C}).map((function(e,n){return r.createElement(c,{colors:k(),key:n,index:n,value:v,customSVG:i,step:Number(f.step),width:l,height:l,name:f.svgname})}))),r.createElement("input",Object.assign({},f,{ref:n,type:"range",onChange:f.readOnly?null:f.onChange,onClick:f.readOnly?null:f.onClick,onMouseEnter:w,onMouseLeave:function(){!f.readOnly&&b(Number(f.value))},onMouseMove:w})))})),g=t(57518),v=t(3966),b=t.n(v),y=t(40024),h=function(){var e=r.useState(1),n=e[0],t=e[1],o=(0,g.b)([{key:"controls",items:[{key:"max",label:"Max",controlType:"Text",value:5},{key:"min",label:"Min",description:"Should no be smaller than step",controlType:"Text",value:1},{key:"step",label:"Step",controlType:"Text",value:1},{key:"dimension",label:"Icon Dimension",controlType:"Text",value:30},{key:"readOnly",label:"Read only",controlType:"Checkbox",value:!1},{key:"disabled",label:"Disabled",controlType:"Checkbox",value:!1},{key:"customSvg",label:"Custom SVG",controlType:"Checkbox",value:!1},{key:"colors",label:"Colors",options:[{key:"default",label:"Default color",value:""},{key:"greyandblack",label:"Grey & Black",value:"greyandblack"},{key:"lightblueandblue",label:"Light blue & blue",value:"lightblueandblue"},{key:"lightgreenandGreen",label:"Light green & green",value:"lg"}],controlType:"Radio"}]}]),a=o[0],s=o[1].controls,i=r.useCallback((function(){var e;switch(null===(e=s.colors)||void 0===e?void 0:e.key){case"greyandblack":return["grey","black"];case"lightblueandblue":return["lightblue","blue"];case"lightgreenandGreen":return["lightgreen","green"];default:return null}}),[s.colors]);return r.createElement(l.Z,{mainFile:y,example:r.createElement("div",{className:"w-100 d-flex justify-content-center"},r.createElement(f,{id:"some-id",className:"custom-class",readOnly:s.readOnly,disabled:s.disabled,dimension:s.dimension,max:s.max,min:s.min,step:s.step,svgname:"custom name",colors:i(),customSVG:s.customSvg?r.createElement(b(),null):null,value:n,onChange:function(e){t(Number(e.target.value))}})),code:"<Rating value={number} onChange={(e) => setValue(e.target.value)} />",controls:a()})}},40024:function(e,n,t){"use strict";t.r(n),n.default='import React, { useState, useEffect } from "react";\nimport classnames from "classnames";\nimport { SVGComponent } from "./SVGComponent";\nimport "./rating.scss";\n\nexport type RatingProps = JSX.IntrinsicElements["input"] & {\n    /** Array of two colors to fill the states of the svgs */\n    colors?: [string, string];\n    /** Div wrapper props */\n    wrapperProps?: JSX.IntrinsicElements["div"];\n    /** svg to use instead of the default */\n    customSVG?: JSX.IntrinsicElements["svg"];\n    /**  name to be used for accessibility */\n    svgname?: string;\n    /** Dimensions (width/height) of the component  */\n    dimension?: number;\n};\n\n/**\n * @member 0 Grey (Unselected)\n * @member 1 Yellow (Selected)\n */\nconst initialColors: [string, string] = ["#A9A9A9", "#FFC500"];\nconst disabledColors: [string, string] = ["#dddddd", "#bfbfbf"];\n\nexport const Rating: React.FC<RatingProps> = React.forwardRef(({ dimension = 30, colors, customSVG, wrapperProps, ...props }: RatingProps, ref: React.ForwardedRef<HTMLInputElement>) => {\n    const [displayValue, setDisplayValue] = useState<number>(Number(props.value));\n    const [min, setMin] = useState<number>(0);\n    const [max, setMax] = useState<number>(Number(props.max) || 5);\n\n    useEffect(() => {\n        setDisplayValue(Number(props.value));\n    }, [props.value]);\n\n    useEffect(() => {\n        if (props.max) {\n            setMax(Number(props.max));\n        }\n    }, [props.max]);\n\n    useEffect(() => {\n        setMin(Number(props.min));\n    }, [props.min]);\n\n    /**\n     * Retrieves colors, either the colors passed in the props or use initialColors object\n     * @returns {Array<string>} The array of colors\n     */\n    const getColors = (): [string, string] => {\n        if (colors && colors.length) {\n            switch (colors.length) {\n                case 2:\n                    return colors;\n                default:\n                    return initialColors;\n            }\n        }\n        return props.disabled ? disabledColors : initialColors;\n    };\n\n    const onHover = (e: React.MouseEvent<HTMLInputElement>): void => {\n        !props.readOnly && setDisplayValue(calculateDisplayValue(e));\n    };\n\n    const onLeave = (): void => {\n        !props.readOnly && setDisplayValue(Number(props.value));\n    };\n\n    const calculateDisplayValue = (e: React.MouseEvent<HTMLInputElement>): number => {\n        const position: number = calculateHoverPercentage(e);\n        return max * Number(parseFloat(String(position)).toFixed(2));\n    };\n\n    const calculateHoverPercentage = (event: React.MouseEvent): number => {\n        const clientX: number = event.clientX;\n        const targetRect: DOMRect = (event.target as HTMLElement).getBoundingClientRect();\n        const delta: number = clientX - targetRect.left;\n        return delta < 0 ? 0 : delta / targetRect.width;\n    };\n\n    return (\n        <div {...wrapperProps} className={classnames("rc", "rating", wrapperProps?.className)}>\n            <div className="rating-icons">\n                {Array.apply(null, { length: max }).map((e: number, i: number) => (\n                    <SVGComponent\n                        colors={getColors()}\n                        key={i}\n                        index={i}\n                        value={displayValue}\n                        customSVG={customSVG}\n                        step={Number(props.step)}\n                        width={dimension}\n                        height={dimension}\n                        name={props.svgname}\n                    />\n                ))}\n            </div>\n            <input\n                {...props}\n                ref={ref}\n                type="range"\n                onChange={!props.readOnly ? props.onChange : null}\n                onClick={!props.readOnly ? props.onClick : null}\n                onMouseEnter={onHover}\n                onMouseLeave={onLeave}\n                onMouseMove={onHover}\n            />\n        </div>\n    );\n});\n'},3966:function(e,n,t){var r=t(27378);function l(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}))}l.defaultProps={},e.exports=l,l.default=l}}]);
//# sourceMappingURL=component---src-pages-docs-rating-tsx-43c5f5137441ab87be8b.js.map