"use strict";(self.webpackChunkreact_components_docs=self.webpackChunkreact_components_docs||[]).push([[1351],{61324:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(27378),o=t(45141),r=t(25414),i=t(30808),s=t(508),c=t.n(s),u=t(75418),l=t(4769),d=["active","size","parentId","onIndicatorClicked"],m=a.memo(a.forwardRef((function(e,n){var t=e.active,o=e.size,r=e.parentId,s=e.onIndicatorClicked,u=(0,i.Z)(e,d),m=a.useState("carousel-indicators"),v=m[0],f=m[1];return a.useEffect((function(){return f(c()("carousel-indicators",u.className))}),[u.className]),a.createElement("ol",Object.assign({},u,{ref:n,className:v}),(0,l.Z)(Array(o)).map((function(e,n){return a.createElement("li",{key:n,"data-target":r?"#"+r:null,"data-slide-to":n,className:c()({active:t===n}),onClick:t!==n?s:null})})))}))),v=a.memo((function(e){return a.createElement(a.Fragment,null,a.createElement("a",{className:"carousel-control-prev",href:"#"+e.parentId,role:"button",draggable:!1,"data-slide":"prev",onClick:e.onNavigate,onKeyUp:e.onNavigate},a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true","data-slide":"prev"}),a.createElement("span",{className:"sr-only"},e.previousText||"Previous")),a.createElement("a",{className:"carousel-control-next",href:"#"+e.parentId,role:"button",draggable:!1,"data-slide":"next",onClick:e.onNavigate,onKeyUp:e.onNavigate},a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true","data-slide":"next"}),a.createElement("span",{className:"sr-only"},e.nextText||"Next")))})),f=t(16654),p=["afterChange","transitionDuration","transitionStyle","infinite","showIndicators","autoplay","autoplaySpeed"],h=a.forwardRef((function(e,n){var t=e.afterChange,o=e.transitionDuration,r=void 0===o?600:o,s=e.transitionStyle,l=void 0===s?"slide":s,d=e.infinite,h=void 0===d||d,g=e.showIndicators,b=e.autoplay,E=void 0!==b&&b,y=e.autoplaySpeed,w=void 0===y?5e3:y,T=(0,i.Z)(e,p),N=a.useState(0),C=N[0],S=N[1],k=a.useState("next"),R=k[0],M=k[1],I=a.useState(""),x=I[0],D=I[1],L=a.useState("carousel"),A=L[0],H=L[1],P=a.useState(),j=P[0],X=P[1],z=(0,f.H)(n),O=a.useRef(!1),V=a.useRef(),F=a.Children.toArray(T.children).length,Z=a.useCallback((function(e){var n=h||void 0===h;switch(e){case"prev":return 0===C?n?F-1:void 0:C-1;case"next":return C===F-1?n?0:void 0:C+1}}),[h,C,F]),W=a.useCallback((function(e,n){var t,a;e.cancelable&&e.preventDefault();var o=e.target;if(["mousedown","touchstart"].some((function(n){return n===e.type})))t=Z(a=n);else{if("click"===e.type)a="LI"===o.tagName?Number(o.dataset.slideTo)>C?"next":"prev":o.dataset.slide;else switch(e.key.toLowerCase()){case"arrowleft":a="prev";break;case"arrowright":a="next";break;case"space":case" ":a=o.dataset.slide}t="LI"===o.tagName?Number(o.dataset.slideTo):Z(a)}[a,t].every((function(e){return void 0!==e}))&&(a!==R&&M(a),t!==C&&S(t))}),[C,h,R,Z]),K=function(){E&&!O.current&&(V.current&&clearTimeout(V.current),V.current=setTimeout((function(){O.current||W(new MouseEvent("mousedown",{bubbles:!0}),"next")}),w))},_=a.useCallback((function(e){K(),t&&t(e)}),[t,K]),J=a.useCallback((function(e){e.persist();var n,t="touchstart"===e.type,a=t?e.touches.item(0).clientX:e.clientX,o=e.currentTarget.clientWidth,r=function(e){(n=t?e.touches.item(0).clientX:e.clientX)!==j&&X(n-a)};document.body.addEventListener(t?"touchmove":"mousemove",r),document.body.addEventListener(t?"touchend":"mouseup",(function i(){Math.abs(n-a)>o/4&&W(e,n-a<0?"next":"prev"),X(void 0),document.body.removeEventListener(t?"touchmove":"mousemove",r),document.body.removeEventListener(t?"touchend":"mouseup",i)})),t?T.onTouchStart&&T.onTouchStart(e):T.onMouseDown&&T.onMouseDown(e)}),[j,T.onTouchStart,T.onMouseDown,W,X]),U=function(e){switch(e.type){case"mouseenter":O.current=!0,T.onMouseEnter&&T.onMouseEnter(e);break;case"mouseleave":O.current=!1,K(),T.onMouseLeave&&T.onMouseLeave(e)}};return a.useEffect((function(){return D(T.id||(0,u.k)("carousel-"))}),[T.id]),a.useEffect((function(){return S(T.defaultValue||0)}),[T.defaultValue]),a.useEffect((function(){return H(c()("rc","carousel",{"carousel-fade":"fade"===l},T.className))}),[T.className,l]),a.useEffect((function(){return K()}),[E]),a.useEffect((function(){return function(){V.current&&clearTimeout(V.current)}}),[]),a.createElement("div",Object.assign({},T,{ref:z,id:x,className:A,"data-ride":"carousel",onMouseDown:J,onTouchStart:J,onMouseEnter:U,onMouseLeave:U}),g&&a.createElement(m,{active:C,size:F,parentId:x,onIndicatorClicked:W}),a.createElement("div",{className:"carousel-inner"},a.Children.map(T.children,(function(e,n){return a.isValidElement(e)?a.cloneElement(e,{"data-index-number":n,defaultChecked:C===n,nav:R,transitionDuration:r,afterTransition:_,translateX:"slide"===l&&C===n?j:void 0}):e}))),a.createElement(v,{onNavigate:W,parentId:x}))})),g=["nav","transitionDuration","afterTransition","translateX"],b=a.memo(a.forwardRef((function(e,n){var t=e.nav,o=e.transitionDuration,r=e.afterTransition,s=e.translateX,u=(0,i.Z)(e,g),l=a.useState("carousel-item"),d=l[0],m=l[1],v=a.useState({}),f=v[0],p=v[1],h=a.useCallback((function(e){m(c()("carousel-item",{active:u.defaultChecked},u.className)),u.defaultChecked&&r&&(e.persist(),r(e)),"transitionend"===e.type?u.onTransitionEnd&&u.onTransitionEnd(e):u.onAnimationEnd&&u.onAnimationEnd(e)}),[u.defaultChecked,u.className,r,u.onTransitionEnd,u.onAnimationEnd]);return a.useEffect((function(){var e,n="next"===t?"left":"right";m(c()("carousel-item","carousel-item-"+n,((e={})["carousel-item-"+t]=u.defaultChecked,e),{active:!u.defaultChecked},u.className))}),[t,u.defaultChecked,u.className]),a.useEffect((function(){return m(c()("carousel-item",{active:u.defaultChecked},u.className))}),[]),a.useEffect((function(){var e=(o||600)+"ms",n=s&&u.defaultChecked?"translate3d("+s+"px, 0, 0)":null;p({transitionDuration:n?"0s":e,animationDuration:e,transform:n})}),[o,u.defaultChecked,s]),a.createElement("div",Object.assign({},u,{ref:n,className:d,style:f,onTransitionEnd:h,onAnimationEnd:h}),u.children)}))),E=t(87994),y=t(57518),w=["/images/painting-1.jpg","/images/painting-2.jpg","/images/painting-3.jpg","/images/painting-4.jpg"],T=t(67839),N=[{key:"slide",label:"slide",value:"slide",additionalProps:{wrapperProps:{className:"d-inline-block"}}},{key:"fade",label:"fade",value:"fade",additionalProps:{wrapperProps:{className:"d-inline-block"}}}],C=function(){var e=(0,y.b)([{key:"controls",items:[{key:"autoplaySpeed",label:"autoplaySpeed",controlType:"Text",value:2e3},{key:"transitionDuration",label:"transitionDuration",controlType:"Text",value:500},{key:"infinite",label:"infinite",controlType:"Checkbox",value:!1},{key:"autoplay",label:"autoplay",controlType:"Checkbox",value:!1},{key:"showIndicators",label:"showIndicators",controlType:"Checkbox"},{key:"transitionStyle",label:"transitionStyle",controlType:"Radio",options:N,value:N[0].value}]}]),n=e[0],t=e[1].controls;return a.createElement(o.Z,{mainFile:T,example:a.createElement("div",{className:"w-100 d-flex justify-content-center"},a.createElement(h,{autoplaySpeed:t.autoplaySpeed,transitionDuration:t.transitionDuration,showIndicators:t.showIndicators,autoplay:t.autoplay,infinite:t.infinite,transitionStyle:t.transitionStyle},w.map((function(e,n){return a.createElement(b,{key:n},a.createElement(E.E,{src:(0,r.withPrefix)(e),responsive:!0,width:"100%"}))})))),code:'<Carousel>\n    <CarouselItem><Img type="div" src="first.jpg" /></CarouselItem>\n    <CarouselItem><Img type="div" src="second.jpg" /></CarouselItem>\n</Carousel>',controls:n()})}},87994:function(e,n,t){t.d(n,{E:function(){return c}});var a=t(30808),o=t(27378),r=t(508),i=t.n(r),s=["type","responsive","rounded","thumbnail","bgFixed","src","width","height","children"],c=o.memo(o.forwardRef((function(e,n){var t=e.type,r=e.responsive,c=e.rounded,u=e.thumbnail,l=e.bgFixed,d=e.src,m=e.width,v=e.height,f=e.children,p=(0,a.Z)(e,s);if("div"===t){var h,g,b,E=o.useState(),y=E[0],w=E[1],T=o.useState(),N=T[0],C=T[1],S=o.useCallback((function(e){if(e){var n=new Image;n.onload=function(e){var n=e.currentTarget;w(n.naturalWidth),C(n.naturalHeight),p.onLoad&&p.onLoad(e)},n.onerror=p.onError,n.src=e}}),[p.onLoad,p.onError]);return o.useEffect((function(){return S(d)}),[d]),o.createElement("div",Object.assign({},p,{ref:n,className:i()("rc","img",{"img-fluid":r,"img-rounded":c,"img-thumbnail":u,"img-fixed":l},p.className),style:Object.assign({},p.style,{width:m||(null===(h=p.style)||void 0===h?void 0:h.width)||y,height:v||null!==(g=p.style)&&void 0!==g&&g.height||o.Children.toArray(f).length?"auto":r||u?"100%":N,backgroundImage:(null===(b=p.style)||void 0===b?void 0:b.backgroundImage)||"url("+d+")"})}),f)}return o.createElement("img",Object.assign({src:d,ref:n,width:m,height:v},p,{className:i()("rc","img",{"img-fluid":r,"img-rounded":c,"img-thumbnail":u},p.className)}))})))},16654:function(e,n,t){t.d(n,{H:function(){return o},b:function(){return r.b}});var a=t(27378);function o(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=a.useRef();return a.useEffect((function(){n.forEach((function(e){e&&("function"==typeof e?e(o.current):e.current=o.current)}))}),[n]),o}var r=t(57518)},67839:function(e,n,t){t.r(n),n.default='import React from "react";\nimport classnames from "classnames";\nimport { randomId } from "@sebgroup/frontend-tools/randomId";\nimport { CarouselItemProps, AfterSlideEvent } from "./CarouselItem";\nimport { CarouselIndicators } from "./CarouselIndicators";\nimport { CarouselNavs } from "./CarouselNavs";\nimport "./carousel.scss";\nimport { useCombinedRefs } from "../hooks";\n\nexport type CarouselProps = JSX.IntrinsicElements["div"] & {\n    /** Event handler triggered after change have happened to the carousel returning the index of the new active carousel slide */\n    afterChange?: (e: AfterSlideEvent) => void;\n    /** The duration (in milliseconds) it takes to transition from one slide to another. Default is `600` */\n    transitionDuration?: number;\n    /** Transition style. Supported styles: `slide` and `fade` */\n    transitionStyle?: "slide" | "fade";\n    /** Enables infinite scrolling */\n    infinite?: boolean;\n    /** Shows clickable indicators at the bottom */\n    showIndicators?: boolean;\n    /** The index of default active slide */\n    defaultValue?: number;\n    /** Enables autoplay slides */\n    autoplay?: boolean;\n    /** Autoplay speed in milliseconds. Default is `5000` */\n    autoplaySpeed?: number;\n};\n\nexport const defaultTransitionDuration: number = 600;\nexport const defaultAutoplaySpeed: number = 5000;\nexport type NavigationDirection = "next" | "prev";\ntype NavigateTrigger = React.MouseEvent<HTMLLIElement | HTMLAnchorElement | HTMLDivElement> | React.TouchEvent<HTMLDivElement> | React.KeyboardEvent<HTMLAnchorElement>;\ntype SwipeEvent = React.TouchEvent<HTMLDivElement> | React.MouseEvent<HTMLDivElement>;\n\nexport const Carousel: React.FC<CarouselProps> = React.forwardRef(\n    (\n        {\n            afterChange,\n            transitionDuration = defaultTransitionDuration,\n            transitionStyle = "slide",\n            infinite = true,\n            showIndicators,\n            autoplay = false,\n            autoplaySpeed = defaultAutoplaySpeed,\n            ...props\n        }: CarouselProps,\n        ref: React.ForwardedRef<HTMLDivElement>\n    ) => {\n        const [active, setActive] = React.useState<number>(0);\n        const [nav, setNav] = React.useState<NavigationDirection>("next");\n        const [id, setId] = React.useState<string>("");\n        const [className, setClassName] = React.useState<string>("carousel");\n        const [swipePos, setSwipePos] = React.useState<number>();\n        const carouselRef = useCombinedRefs<HTMLDivElement>(ref);\n        const interrupted: React.MutableRefObject<boolean> = React.useRef<boolean>(false);\n        const timer: React.MutableRefObject<NodeJS.Timeout | number> = React.useRef<NodeJS.Timeout | number>();\n\n        const size: number = React.Children.toArray(props.children).length;\n\n        /** ----- Utilities ----- */\n\n        const findNewActive = React.useCallback(\n            (newNav: NavigationDirection): number => {\n                const isInfinite: boolean = infinite || infinite === undefined;\n                switch (newNav) {\n                    case "prev":\n                        return active === 0 ? (isInfinite ? size - 1 : undefined) : active - 1;\n                    case "next":\n                        return active === size - 1 ? (isInfinite ? 0 : undefined) : active + 1;\n                }\n            },\n            [infinite, active, size]\n        );\n\n        /**\n         * Handles navigating to a slide\n         * @param {NavigateTrigger} e Navigation trigger event\n         */\n        const goToSlide = React.useCallback(\n            (e: NavigateTrigger, slideTo?: NavigationDirection): void => {\n                e.cancelable && e.preventDefault();\n                let newActive: number;\n                let newNav: NavigationDirection;\n                const target: EventTarget & HTMLElement = e.target as any;\n                if (["mousedown", "touchstart"].some((val: string) => val === e.type)) {\n                    /** Swipe gesture */\n                    newNav = slideTo;\n                    newActive = findNewActive(newNav);\n                } else {\n                    if (e.type === "click") {\n                        newNav = target.tagName === "LI" ? (Number(target.dataset.slideTo) > active ? "next" : "prev") : (target.dataset.slide as NavigationDirection);\n                    } else {\n                        switch ((e as React.KeyboardEvent<HTMLAnchorElement>).key.toLowerCase()) {\n                            case "arrowleft":\n                                newNav = "prev";\n                                break;\n                            case "arrowright":\n                                newNav = "next";\n                                break;\n                            case "space":\n                            case " ":\n                                newNav = target.dataset.slide as NavigationDirection;\n                        }\n                    }\n                    newActive = target.tagName === "LI" ? Number(target.dataset.slideTo) : findNewActive(newNav);\n                }\n                if ([newNav, newActive].every((val) => val !== undefined)) {\n                    newNav !== nav && setNav(newNav);\n                    newActive !== active && setActive(newActive);\n                }\n            },\n            [active, infinite, nav, findNewActive]\n        );\n\n        const triggerAutoplay = (): void => {\n            if (autoplay && !interrupted.current) {\n                timer.current && clearTimeout(timer.current as number);\n\n                timer.current = setTimeout(() => {\n                    if (!interrupted.current) {\n                        goToSlide(new MouseEvent("mousedown", { bubbles: true }) as any, "next");\n                    }\n                }, autoplaySpeed);\n            }\n        };\n\n        /** ----- Event handlers ----- */\n        /** An event handler triggered after a transition has ended */\n        const afterTransition = React.useCallback(\n            (e: AfterSlideEvent): void => {\n                triggerAutoplay();\n                afterChange && afterChange(e);\n            },\n            [afterChange, triggerAutoplay]\n        );\n\n        /**\n         * Handles swipe events\n         * @param e Touch or mouse event\n         */\n        const handleSwipe = React.useCallback(\n            (e: SwipeEvent): void => {\n                e.persist();\n                const isTouch: boolean = e.type === "touchstart";\n                const startingPos: number = isTouch ? (e as React.TouchEvent).touches.item(0).clientX : (e as React.MouseEvent).clientX;\n                const parentWidth: number = e.currentTarget.clientWidth;\n                let xMovement: number;\n\n                const movementHandler: (ev: TouchEvent | MouseEvent) => void = (ev: TouchEvent | MouseEvent) => {\n                    xMovement = isTouch ? (ev as TouchEvent).touches.item(0).clientX : (ev as MouseEvent).clientX;\n                    if (xMovement !== swipePos) {\n                        setSwipePos(xMovement - startingPos);\n                    }\n                };\n\n                const endingHandler: VoidFunction = () => {\n                    if (Math.abs(xMovement - startingPos) > parentWidth / 4) {\n                        goToSlide(e, xMovement - startingPos < 0 ? "next" : "prev");\n                    }\n                    setSwipePos(undefined);\n                    document.body.removeEventListener(isTouch ? "touchmove" : "mousemove", movementHandler);\n                    document.body.removeEventListener(isTouch ? "touchend" : "mouseup", endingHandler);\n                };\n\n                document.body.addEventListener(isTouch ? "touchmove" : "mousemove", movementHandler);\n                document.body.addEventListener(isTouch ? "touchend" : "mouseup", endingHandler);\n                isTouch ? props.onTouchStart && props.onTouchStart(e as React.TouchEvent<HTMLDivElement>) : props.onMouseDown && props.onMouseDown(e as React.MouseEvent<HTMLDivElement>);\n            },\n            [swipePos, props.onTouchStart, props.onMouseDown, goToSlide, setSwipePos]\n        );\n\n        const interruptionHandler = (e: React.MouseEvent<HTMLDivElement>): void => {\n            switch (e.type as keyof HTMLElementEventMap) {\n                case "mouseenter":\n                    interrupted.current = true;\n                    props.onMouseEnter && props.onMouseEnter(e);\n                    break;\n                case "mouseleave":\n                    interrupted.current = false;\n                    triggerAutoplay();\n                    props.onMouseLeave && props.onMouseLeave(e);\n                    break;\n            }\n        };\n\n        /** ----- Effects ----- */\n        /** Set a custom ID if there is none */\n        React.useEffect(() => setId(props.id || randomId("carousel-")), [props.id]);\n        /** Sets the default value, if any. Otherwise default to the first item */\n        React.useEffect(() => setActive(props.defaultValue || 0), [props.defaultValue]);\n        /** Set class names */\n        React.useEffect(() => setClassName(classnames("rc", "carousel", { "carousel-fade": transitionStyle === "fade" }, props.className)), [props.className, transitionStyle]);\n        /** Triggers autoplay if enabled */\n        React.useEffect(() => triggerAutoplay(), [autoplay]);\n        /** Clearing timeout */\n        React.useEffect(() => {\n            return () => {\n                timer.current && clearTimeout(timer.current as number);\n            };\n        }, []);\n\n        return (\n            <div\n                {...props}\n                ref={carouselRef}\n                id={id}\n                className={className}\n                data-ride="carousel"\n                onMouseDown={handleSwipe}\n                onTouchStart={handleSwipe}\n                onMouseEnter={interruptionHandler}\n                onMouseLeave={interruptionHandler}\n            >\n                {showIndicators && <CarouselIndicators active={active} size={size} parentId={id} onIndicatorClicked={goToSlide} />}\n                <div className="carousel-inner">\n                    {React.Children.map(props.children, (Child: React.ReactElement<CarouselItemProps>, i: number) =>\n                        React.isValidElement<CarouselItemProps>(Child)\n                            ? React.cloneElement<any>(Child, {\n                                  "data-index-number": i,\n                                  defaultChecked: active === i,\n                                  nav,\n                                  transitionDuration,\n                                  afterTransition,\n                                  translateX: transitionStyle === "slide" && active === i ? swipePos : undefined,\n                              })\n                            : Child\n                    )}\n                </div>\n                <CarouselNavs onNavigate={goToSlide} parentId={id} />\n            </div>\n        );\n    }\n);\n'}}]);
//# sourceMappingURL=component---src-pages-docs-carousel-tsx-45013fdaf6351c4f04a1.js.map