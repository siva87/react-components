{"version":3,"file":"component---src-pages-docs-modal-tsx-97d44407fc9963089e85.js","mappings":"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","sources":["webpack://react-components-docs/./src/pages/docs/modal.tsx","webpack://react-components-docs/../lib/src/Button/Button.tsx","webpack://react-components-docs/../lib/src/Modal/Modal.tsx","webpack://react-components-docs/../lib/src/hooks/useCombinedRef.ts","webpack://react-components-docs/../lib/src/Modal/Modal.tsx?f630"],"sourcesContent":["import React from \"react\";\nimport Docs from \"@common/Docs\";\nimport { DynamicFormOption, useDynamicForm } from \"@sebgroup/react-components/hooks/useDynamicForm\";\nimport { Button } from \"@sebgroup/react-components/Button\";\nimport { Modal, ModalSize, ModalPosition } from \"@sebgroup/react-components/Modal\";\nimport { Textbox } from \"@sebgroup/react-components/Textbox\";\nimport { CodeSnippet } from \"@common/CodeSnippet\";\n\nconst importString: string = require(\"!raw-loader!@sebgroup/react-components/Modal/Modal\");\nconst code: string = `<Modal toggle={toggle}>\n    <div className=\"modal-header\">Header content</div>\n    <div className=\"modal-body\">Modal content here</div>\n    <div className=\"modal-footer\">Footer content</div>\n</Modal>`;\n\nconst sizses: Array<DynamicFormOption<ModalSize>> = [\n    { key: \"sm\", label: \"sm\", value: \"sm\", additionalProps: { wrapperProps: { className: \"d-inline-block\" } } },\n    { key: \"md\", label: \"md\", value: \"md\", additionalProps: { wrapperProps: { className: \"d-inline-block\" } } },\n    { key: \"lg\", label: \"lg\", value: \"lg\", additionalProps: { wrapperProps: { className: \"d-inline-block\" } } },\n];\nconst positions: Array<DynamicFormOption<ModalPosition>> = [\n    { label: \"default\", value: \"default\", key: \"default\", additionalProps: { wrapperProps: { className: \"d-inline-block\" } } },\n    { label: \"left\", value: \"left\", key: \"left\", additionalProps: { wrapperProps: { className: \"d-inline-block\" } } },\n    { label: \"right\", value: \"right\", key: \"bottom\", additionalProps: { wrapperProps: { className: \"d-inline-block\" } } },\n];\n\nconst NotificationPage: React.FC = () => {\n    const [toggle, setToggle] = React.useState<boolean>(false);\n\n    const [renderForm, { controls }] = useDynamicForm([\n        {\n            key: \"controls\",\n            items: [\n                { key: \"size\", label: \"Size\", controlType: \"Radio\", options: sizses, value: sizses[1].value },\n                { key: \"position\", label: \"Position\", controlType: \"Radio\", options: positions, value: positions[0].value },\n                { key: \"centered\", label: \"centered\", controlType: \"Checkbox\", value: false },\n                { key: \"fullscreen\", label: \"fullscreen\", controlType: \"Checkbox\", value: false },\n                { key: \"trapfocus\", label: \"trapfocus\", controlType: \"Checkbox\", value: false },\n                { key: \"autoFocus\", label: \"autoFocus\", description: \"Automatically focus on the first input element\", controlType: \"Checkbox\", value: false },\n                { key: \"onEscape\", label: \"onEscape\", controlType: \"Checkbox\", value: false },\n                { key: \"onBackdropDismiss\", label: \"onBackdropDismiss\", controlType: \"Checkbox\", value: false },\n            ],\n        },\n    ]);\n\n    const dismiss = React.useCallback(() => setToggle(false), []);\n\n    return (\n        <Docs\n            mainFile={importString}\n            example={\n                <>\n                    <Button onClick={() => setToggle(!toggle)}>Toggle Modal</Button>\n                    <Modal\n                        toggle={toggle}\n                        position={controls.position}\n                        size={controls.size}\n                        fullscreen={controls.fullscreen}\n                        centered={controls.centered}\n                        trapFocus={controls.trapfocus}\n                        onEscape={controls.onEscape ? dismiss : null}\n                        onBackdropDismiss={controls.onBackdropDismiss ? dismiss : null}\n                        autoFocus={controls.autoFocus}\n                    >\n                        <div className=\"modal-header\">\n                            <h3>Header</h3>\n                            <button className=\"close\" type=\"button\" onClick={dismiss} />\n                        </div>\n                        <div className=\"modal-body\">\n                            {controls.trapfocus || controls.autoFocus ? (\n                                <form>\n                                    <fieldset>\n                                        <legend>Use tab to see focus trap in action</legend>\n                                        <Textbox label=\"Firstname\" />\n                                        <Textbox label=\"Lastname\" />\n                                        <Button type=\"button\">Submit</Button>\n                                    </fieldset>\n                                </form>\n                            ) : (\n                                <>\n                                    <p>\n                                        Voluptate beatae quo est perferendis quam ut illum repellat voluptatem. Saepe deleniti voluptas impedit quidem ut rerum. Voluptatibus laboriosam sit libero\n                                        deleniti accusamus debitis quia nobis alias. Quod voluptatem id et consequatur suscipit odio cumque vero ut. Ut ullam nisi qui. Doloremque libero nihil omnis\n                                        porro nihil quo.\n                                    </p>\n                                    <p>\n                                        Maxime recusandae cum. Quisquam facere quia corporis debitis. Illo itaque vel magni est dolores ut voluptatem nisi ullam. Ea nihil ipsa et dolor non illum iste\n                                        quis. Sunt dolores sunt non porro.\n                                    </p>\n                                </>\n                            )}\n                        </div>\n                        <div className=\"modal-footer\">\n                            <Button onClick={dismiss}>Close Modal</Button>\n                        </div>\n                    </Modal>\n                </>\n            }\n            code={code}\n            controls={renderForm()}\n            note={\n                <>\n                    <h3>Modal header, body and footer</h3>\n                    <p>\n                        Defining the modal's header, body and footer is done in a declarative style. Meaning that the developer is responsive for declaring these parts individually if needed. Remember\n                        to pass the following class names:\n                    </p>\n                    <ul>\n                        <li>\n                            <code>modal-header</code> for the <code>div</code> representing the header\n                        </li>\n                        <li>\n                            <code>modal-body</code> for the <code>div</code> representing the body\n                        </li>\n                        <li>\n                            <code>modal-footer</code> for the <code>div</code> representing the footer\n                        </li>\n                    </ul>\n                    An example can be found below:\n                    <CodeSnippet language=\"jsx\">\n                        {`<Modal>\n    <div className=\"modal-header\">Header content here</div>\n    <div className=\"modal-body\">Body content here</div>\n    <div className=\"modal-footer\">Footer content here</div>\n</Modal>`}\n                    </CodeSnippet>\n                    <hr />\n                    <h3>Header close button</h3>\n                    <p>\n                        To add a close button to the modal's header just pass a button of class \"close\" and it will be aligned correctly. You don't need to pass any content inside the button as it\n                        will be populated automatically with an &times; sign.\n                    </p>\n                    <CodeSnippet language=\"jsx\">\n                        {`<Modal>\n    <div className=\"modal-header\">\n        <h3>Modal header text</h3>\n        <button className=\"close\" type=\"button\" onClick={dismiss} />\n    </div>\n</Modal>`}\n                    </CodeSnippet>\n                </>\n            }\n        />\n    );\n};\n\nexport default NotificationPage;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nexport type ButtonTheme = \"primary\" | \"secondary\" | \"danger\" | \"outline-primary\" | \"outline-danger\" | \"dark\" | \"light\" | \"link\";\nexport type ButtonSize = \"lg\" | \"md\" | \"sm\";\n\nexport type ButtonProps = JSX.IntrinsicElements[\"button\"] & {\n    /** Button Theme */\n    theme?: ButtonTheme;\n    /** Button size */\n    size?: ButtonSize;\n    /** Fill the parent width */\n    block?: boolean;\n};\n/** Buttons allow users to take action with a single tap. */\nexport const Button: React.FC<ButtonProps> = React.memo(\n    React.forwardRef(({ theme = \"primary\", size, block, ...props }: ButtonProps, ref: React.ForwardedRef<HTMLButtonElement>) => {\n        return (\n            <button {...props} ref={ref} className={classnames(\"rc\", \"btn\", `btn-${theme}`, { [`btn-${size}`]: size, \"btn-block\": block }, props.className)}>\n                {props.children}\n            </button>\n        );\n    })\n);\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport classnames from \"classnames\";\nimport \"./modal.scss\";\nimport { useCombinedRefs } from \"../hooks\";\n\nexport type ModalPosition = \"left\" | \"right\" | \"default\";\nexport type ModalSize = \"lg\" | \"md\" | \"sm\";\ntype FocusableElements = HTMLInputElement | HTMLButtonElement | HTMLAnchorElement;\n\nexport type ModalProps = JSX.IntrinsicElements[\"div\"] & {\n    /** Centers the modal in the middle of the screen. Default is `false` */\n    centered?: boolean;\n    /** Size of modal `lg` | `md` | `sm` */\n    size?: ModalSize;\n    /** Toggle fullscreen modal, default is `false` */\n    fullscreen?: boolean;\n    /** Event triggered when escape key is triggered */\n    onEscape?: (e: KeyboardEvent) => void;\n    /** Event triggered when the backdrop is clicked */\n    onBackdropDismiss?: React.MouseEventHandler<HTMLDivElement>;\n    /** Modal position. Available positions: `left`, `right` */\n    position?: ModalPosition;\n    /** Modal toggle */\n    toggle?: boolean;\n    /** To only allow tab to focus within modal */\n    trapFocus?: boolean;\n    /** Automatically focuses on the first input element in the modal dialog */\n    autoFocus?: boolean;\n};\n\n// This solution is meant to fix Gatsby build which complains that document doesn't exist in server-side rendering\nconst safeDocument: Document | null = typeof document !== \"undefined\" ? document : null;\n\n/** The modal component provides a solid foundation for creating dialogs or slideout modals */\nexport const Modal: React.FC<ModalProps> = React.memo(\n    React.forwardRef(({ trapFocus, autoFocus, centered, size, fullscreen, onEscape, onBackdropDismiss, position, toggle, ...props }: ModalProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n        const dialogRef: React.MutableRefObject<HTMLDivElement> = useCombinedRefs(ref);\n        const [isPristine, setIsPristine] = React.useState<boolean>(true);\n\n        React.useEffect(() => {\n            if (toggle) {\n                isPristine && setIsPristine(false);\n                document.body.classList.add(\"modal-open\");\n            } else {\n                document.body.classList.remove(\"modal-open\");\n            }\n\n            return () => document.body.classList.remove(\"modal-open\");\n        }, [toggle]);\n\n        /** Focus trap */\n        React.useEffect(() => {\n            function tabHandler(e: KeyboardEvent) {\n                if (e.key.toLowerCase() === \"tab\") {\n                    const lastFocusable: string = \"last-focusable-element\";\n                    const focusableElements: FocusableElements[] = Array.from(dialogRef.current.querySelectorAll<FocusableElements>(\"input, button, a\")).filter((el) => el.className !== lastFocusable);\n\n                    if (focusableElements.length) {\n                        if (!e.shiftKey) {\n                            // Descending focus\n                            if (document.activeElement.className === lastFocusable && dialogRef.current.contains(document.activeElement)) {\n                                dialogRef.current.querySelector<FocusableElements>(\"input, button, a\").focus();\n                            } else if (!dialogRef.current.contains(document.activeElement)) {\n                                dialogRef.current.querySelector<FocusableElements>(\"input, button, a\").focus();\n                            }\n                        } else {\n                            // Ascending focus\n                            if ((document.activeElement.className === lastFocusable && dialogRef.current.contains(document.activeElement)) || !dialogRef.current.contains(document.activeElement)) {\n                                focusableElements[focusableElements.length - 1].focus();\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (trapFocus && toggle) {\n                document.addEventListener(\"keyup\", tabHandler);\n            } else {\n                document.removeEventListener(\"keyup\", tabHandler);\n            }\n\n            return () => document.removeEventListener(\"keyup\", tabHandler);\n        }, [trapFocus, toggle]);\n\n        // Escape key listner\n        React.useEffect(() => {\n            function keyupListener(e: KeyboardEvent) {\n                e.key?.toLowerCase() === \"escape\" && onEscape(e);\n            }\n\n            if (onEscape && toggle) {\n                document.addEventListener(\"keyup\", keyupListener);\n            } else {\n                document.removeEventListener(\"keyup\", keyupListener);\n            }\n\n            return () => document.removeEventListener(\"keyup\", keyupListener);\n        }, [onEscape, toggle]);\n\n        return !safeDocument\n            ? null\n            : createPortal(\n                  <div\n                      {...props}\n                      className={classnames(\n                          \"rc\",\n                          \"modal\",\n                          {\n                              show: toggle,\n                              hide: !toggle && !isPristine,\n                              \"modal-centered\": centered,\n                              \"modal-aside\": position && position !== \"default\" && !fullscreen,\n                              [`modal-aside-${[position]}`]: position && position !== \"default\" && !fullscreen,\n                              \"modal-fullscreen\": fullscreen,\n                          },\n                          props.className\n                      )}\n                      role={props.role || \"dialog\"}\n                      tabIndex={props.tabIndex || -1}\n                      aria-modal=\"true\"\n                      onClick={(e) => {\n                          props.onClick && props.onClick(e);\n\n                          const target: HTMLDivElement = e.target as any;\n\n                          if (onBackdropDismiss && target.classList.contains(\"rc\") && target.classList.contains(\"modal\")) {\n                              onBackdropDismiss(e);\n                          }\n                      }}\n                      onAnimationEnd={(e) => {\n                          props.onAnimationEnd && props.onAnimationEnd(e);\n\n                          if (fullscreen && autoFocus && toggle && !dialogRef.current.contains(document.activeElement)) {\n                              dialogRef.current.querySelector(\"input\")?.focus();\n                          }\n                      }}\n                  >\n                      <div\n                          ref={dialogRef}\n                          role=\"document\"\n                          className={classnames(\"modal-dialog\", { [`modal-${size}`]: size })}\n                          onAnimationEnd={() => {\n                              if (autoFocus && toggle && !dialogRef.current.contains(document.activeElement)) {\n                                  dialogRef.current.querySelector(\"input\")?.focus();\n                              }\n                          }}\n                      >\n                          <div className=\"modal-content\">{props.children}</div>\n                          {trapFocus && (\n                              <a className=\"last-focusable-element\" href=\"#\">\n                                  <div className=\"sr-only\">End of focus</div>\n                              </a>\n                          )}\n                      </div>\n                  </div>,\n                  safeDocument.body\n              );\n    })\n);\n","import React from \"react\";\n\n/**\n * Allows you to use the ref as well as forward it to parent component to use\n * @param refs The refs to forward to. Usually the forwarded ref\n */\nexport function useCombinedRefs<T>(...refs: Array<React.LegacyRef<T> | React.RefObject<T>>): React.MutableRefObject<T> {\n    const targetRef = React.useRef<T>();\n\n    React.useEffect(() => {\n        refs.forEach((ref) => {\n            if (!ref) return;\n\n            if (typeof ref === \"function\") {\n                ref(targetRef.current);\n            } else {\n                (ref as any).current = targetRef.current;\n            }\n        });\n    }, [refs]);\n\n    return targetRef;\n}\n","export default \"import React from \\\"react\\\";\\nimport { createPortal } from \\\"react-dom\\\";\\nimport classnames from \\\"classnames\\\";\\nimport \\\"./modal.scss\\\";\\nimport { useCombinedRefs } from \\\"../hooks\\\";\\n\\nexport type ModalPosition = \\\"left\\\" | \\\"right\\\" | \\\"default\\\";\\nexport type ModalSize = \\\"lg\\\" | \\\"md\\\" | \\\"sm\\\";\\ntype FocusableElements = HTMLInputElement | HTMLButtonElement | HTMLAnchorElement;\\n\\nexport type ModalProps = JSX.IntrinsicElements[\\\"div\\\"] & {\\n    /** Centers the modal in the middle of the screen. Default is `false` */\\n    centered?: boolean;\\n    /** Size of modal `lg` | `md` | `sm` */\\n    size?: ModalSize;\\n    /** Toggle fullscreen modal, default is `false` */\\n    fullscreen?: boolean;\\n    /** Event triggered when escape key is triggered */\\n    onEscape?: (e: KeyboardEvent) => void;\\n    /** Event triggered when the backdrop is clicked */\\n    onBackdropDismiss?: React.MouseEventHandler<HTMLDivElement>;\\n    /** Modal position. Available positions: `left`, `right` */\\n    position?: ModalPosition;\\n    /** Modal toggle */\\n    toggle?: boolean;\\n    /** To only allow tab to focus within modal */\\n    trapFocus?: boolean;\\n    /** Automatically focuses on the first input element in the modal dialog */\\n    autoFocus?: boolean;\\n};\\n\\n// This solution is meant to fix Gatsby build which complains that document doesn't exist in server-side rendering\\nconst safeDocument: Document | null = typeof document !== \\\"undefined\\\" ? document : null;\\n\\n/** The modal component provides a solid foundation for creating dialogs or slideout modals */\\nexport const Modal: React.FC<ModalProps> = React.memo(\\n    React.forwardRef(({ trapFocus, autoFocus, centered, size, fullscreen, onEscape, onBackdropDismiss, position, toggle, ...props }: ModalProps, ref: React.ForwardedRef<HTMLDivElement>) => {\\n        const dialogRef: React.MutableRefObject<HTMLDivElement> = useCombinedRefs(ref);\\n        const [isPristine, setIsPristine] = React.useState<boolean>(true);\\n\\n        React.useEffect(() => {\\n            if (toggle) {\\n                isPristine && setIsPristine(false);\\n                document.body.classList.add(\\\"modal-open\\\");\\n            } else {\\n                document.body.classList.remove(\\\"modal-open\\\");\\n            }\\n\\n            return () => document.body.classList.remove(\\\"modal-open\\\");\\n        }, [toggle]);\\n\\n        /** Focus trap */\\n        React.useEffect(() => {\\n            function tabHandler(e: KeyboardEvent) {\\n                if (e.key.toLowerCase() === \\\"tab\\\") {\\n                    const lastFocusable: string = \\\"last-focusable-element\\\";\\n                    const focusableElements: FocusableElements[] = Array.from(dialogRef.current.querySelectorAll<FocusableElements>(\\\"input, button, a\\\")).filter((el) => el.className !== lastFocusable);\\n\\n                    if (focusableElements.length) {\\n                        if (!e.shiftKey) {\\n                            // Descending focus\\n                            if (document.activeElement.className === lastFocusable && dialogRef.current.contains(document.activeElement)) {\\n                                dialogRef.current.querySelector<FocusableElements>(\\\"input, button, a\\\").focus();\\n                            } else if (!dialogRef.current.contains(document.activeElement)) {\\n                                dialogRef.current.querySelector<FocusableElements>(\\\"input, button, a\\\").focus();\\n                            }\\n                        } else {\\n                            // Ascending focus\\n                            if ((document.activeElement.className === lastFocusable && dialogRef.current.contains(document.activeElement)) || !dialogRef.current.contains(document.activeElement)) {\\n                                focusableElements[focusableElements.length - 1].focus();\\n                            }\\n                        }\\n                    }\\n                }\\n            }\\n\\n            if (trapFocus && toggle) {\\n                document.addEventListener(\\\"keyup\\\", tabHandler);\\n            } else {\\n                document.removeEventListener(\\\"keyup\\\", tabHandler);\\n            }\\n\\n            return () => document.removeEventListener(\\\"keyup\\\", tabHandler);\\n        }, [trapFocus, toggle]);\\n\\n        // Escape key listner\\n        React.useEffect(() => {\\n            function keyupListener(e: KeyboardEvent) {\\n                e.key?.toLowerCase() === \\\"escape\\\" && onEscape(e);\\n            }\\n\\n            if (onEscape && toggle) {\\n                document.addEventListener(\\\"keyup\\\", keyupListener);\\n            } else {\\n                document.removeEventListener(\\\"keyup\\\", keyupListener);\\n            }\\n\\n            return () => document.removeEventListener(\\\"keyup\\\", keyupListener);\\n        }, [onEscape, toggle]);\\n\\n        return !safeDocument\\n            ? null\\n            : createPortal(\\n                  <div\\n                      {...props}\\n                      className={classnames(\\n                          \\\"rc\\\",\\n                          \\\"modal\\\",\\n                          {\\n                              show: toggle,\\n                              hide: !toggle && !isPristine,\\n                              \\\"modal-centered\\\": centered,\\n                              \\\"modal-aside\\\": position && position !== \\\"default\\\" && !fullscreen,\\n                              [`modal-aside-${[position]}`]: position && position !== \\\"default\\\" && !fullscreen,\\n                              \\\"modal-fullscreen\\\": fullscreen,\\n                          },\\n                          props.className\\n                      )}\\n                      role={props.role || \\\"dialog\\\"}\\n                      tabIndex={props.tabIndex || -1}\\n                      aria-modal=\\\"true\\\"\\n                      onClick={(e) => {\\n                          props.onClick && props.onClick(e);\\n\\n                          const target: HTMLDivElement = e.target as any;\\n\\n                          if (onBackdropDismiss && target.classList.contains(\\\"rc\\\") && target.classList.contains(\\\"modal\\\")) {\\n                              onBackdropDismiss(e);\\n                          }\\n                      }}\\n                      onAnimationEnd={(e) => {\\n                          props.onAnimationEnd && props.onAnimationEnd(e);\\n\\n                          if (fullscreen && autoFocus && toggle && !dialogRef.current.contains(document.activeElement)) {\\n                              dialogRef.current.querySelector(\\\"input\\\")?.focus();\\n                          }\\n                      }}\\n                  >\\n                      <div\\n                          ref={dialogRef}\\n                          role=\\\"document\\\"\\n                          className={classnames(\\\"modal-dialog\\\", { [`modal-${size}`]: size })}\\n                          onAnimationEnd={() => {\\n                              if (autoFocus && toggle && !dialogRef.current.contains(document.activeElement)) {\\n                                  dialogRef.current.querySelector(\\\"input\\\")?.focus();\\n                              }\\n                          }}\\n                      >\\n                          <div className=\\\"modal-content\\\">{props.children}</div>\\n                          {trapFocus && (\\n                              <a className=\\\"last-focusable-element\\\" href=\\\"#\\\">\\n                                  <div className=\\\"sr-only\\\">End of focus</div>\\n                              </a>\\n                          )}\\n                      </div>\\n                  </div>,\\n                  safeDocument.body\\n              );\\n    })\\n);\\n\";"],"names":["importString","require","sizses","key","label","value","additionalProps","wrapperProps","className","positions","React","toggle","setToggle","useDynamicForm","items","controlType","options","description","renderForm","controls","dismiss","mainFile","example","onClick","position","size","fullscreen","centered","trapFocus","trapfocus","onEscape","onBackdropDismiss","autoFocus","type","code","note","language","Button","ref","theme","block","props","classnames","children","safeDocument","document","Modal","dialogRef","useCombinedRefs","isPristine","setIsPristine","body","classList","add","remove","tabHandler","e","toLowerCase","lastFocusable","focusableElements","Array","from","current","querySelectorAll","filter","el","length","shiftKey","activeElement","contains","focus","querySelector","addEventListener","removeEventListener","keyupListener","createPortal","show","hide","role","tabIndex","target","onAnimationEnd","href","refs","targetRef","forEach"],"sourceRoot":""}